{"version":3,"sources":["../../../src/apis/patient/patientLogin.js"],"names":["patientLogin","req","res","next","body","gender","age","Patient","findOrCreate","where","uid","email","defaults","displayName","photoURL","spread","user","created","json"],"mappings":";;;;;kBAGwBA,Y;;AAHxB;;;;;;AAGe,SAASA,YAAT,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgCC,IAAhC,EAAsC;AACjD,QAAG,CAAC,CAACF,IAAIG,IAAJ,CAASC,MAAX,IAAqB,CAAC,CAACJ,IAAIG,IAAJ,CAASE,GAAnC,EAAwC;AACpC,yBAAOC,OAAP,CACCC,YADD,CACc;AACVC,mBAAO;AACHC,qBAAKT,IAAIG,IAAJ,CAASM,GADX;AAEHC,uBAAOV,IAAIG,IAAJ,CAASO;AAFb,aADG;AAKVC,sBAAU;AACNF,qBAAKT,IAAIG,IAAJ,CAASM,GADR;AAENC,uBAAOV,IAAIG,IAAJ,CAASO,KAFV;AAGNE,6BAAaZ,IAAIG,IAAJ,CAASS,WAHhB;AAINC,0BAAUb,IAAIG,IAAJ,CAASU,QAJb;AAKNT,wBAAQJ,IAAIG,IAAJ,CAASC,MALX;AAMNC,qBAAKL,IAAIG,IAAJ,CAASE;AANR;AALA,SADd,EAcGS,MAdH,CAcU,UAACC,IAAD,EAAOC,OAAP,EAAmB;AACzBf,gBAAIgB,IAAJ,CAASF,IAAT;AACH,SAhBD;AAiBH,KAlBD,MAkBO;AACH,yBAAOT,OAAP,CACCC,YADD,CACc;AACVC,mBAAO;AACHC,qBAAKT,IAAIG,IAAJ,CAASM,GADX;AAEHC,uBAAOV,IAAIG,IAAJ,CAASO;AAFb,aADG;AAKVC,sBAAU;AACNF,qBAAKT,IAAIG,IAAJ,CAASM,GADR;AAENC,uBAAOV,IAAIG,IAAJ,CAASO,KAFV;AAGNE,6BAAaZ,IAAIG,IAAJ,CAASS,WAHhB;AAINC,0BAAUb,IAAIG,IAAJ,CAASU;AAJb;AALA,SADd,EAYGC,MAZH,CAYU,UAACC,IAAD,EAAOC,OAAP,EAAmB;AACzBf,gBAAIgB,IAAJ,CAASF,IAAT;AACH,SAdD;AAeH;AAEJ","file":"patientLogin.js","sourcesContent":["import models from '../../../models';\n\n\nexport default function patientLogin(req, res, next) {\n    if(!!req.body.gender && !!req.body.age) {\n        models.Patient\n        .findOrCreate({\n            where: {\n                uid: req.body.uid,\n                email: req.body.email\n            },\n            defaults: {\n                uid: req.body.uid,\n                email: req.body.email,\n                displayName: req.body.displayName,\n                photoURL: req.body.photoURL,\n                gender: req.body.gender,\n                age: req.body.age\n            }\n        }).spread((user, created) => {\n            res.json(user);\n        });\n    } else {\n        models.Patient\n        .findOrCreate({\n            where: {\n                uid: req.body.uid,\n                email: req.body.email\n            },\n            defaults: {\n                uid: req.body.uid,\n                email: req.body.email,\n                displayName: req.body.displayName,\n                photoURL: req.body.photoURL,\n            }\n        }).spread((user, created) => {\n            res.json(user);\n        });\n    }\n    \n}\n"]}