{"version":3,"sources":["../../../src/apis/patient/createBiologicalClock.js"],"names":["createBiologicalClock","req","res","next","body","type","patientBiologicalClock","findOrCreate","where","patientId","date","spread","clock","created","json","status","createdAt","forceTimestamps"],"mappings":";;;;;kBAEwBA,qB;;AAFxB;;;;;;AAEe,SAASA,qBAAT,CAA+BC,GAA/B,EAAoCC,GAApC,EAAyCC,IAAzC,EAA+C;AAC1D,QAAIF,IAAIG,IAAJ,CAASC,IAAT,IAAiB,OAArB,EAA8B;AAC1B,yBAAOC,sBAAP,CACKC,YADL,CACkB;AACVC,mBAAO;AACHH,sBAAMJ,IAAIG,IAAJ,CAASC,IADZ;AAEHI,2BAAWR,IAAIG,IAAJ,CAASK,SAFjB;AAGHC,sBAAMT,IAAIG,IAAJ,CAASM;AAHZ;AADG,SADlB,EAOOC,MAPP,CAOc,UAACC,KAAD,EAAQC,OAAR,EAAoB;AAC1BX,gBAAIY,IAAJ,CAAS,EAAEC,QAAQF,OAAV,EAAT;AACH,SATL;AAUH,KAXD,MAWO;AACH,yBAAOP,sBAAP,CACKC,YADL,CACkB;AACVC,mBAAO;AACHH,sBAAMJ,IAAIG,IAAJ,CAASC,IADZ;AAEHI,2BAAWR,IAAIG,IAAJ,CAASK,SAFjB;AAGHC,sBAAMT,IAAIG,IAAJ,CAASM,IAHZ;AAIHM,2BAAWf,IAAIG,IAAJ,CAASM;AAJjB;AADG,SADlB,EAQO;AACCO,6BAAiB;AADlB,SARP,EAUON,MAVP,CAUc,UAACC,KAAD,EAAQC,OAAR,EAAoB;AAC1BX,gBAAIY,IAAJ,CAAS,EAAEC,QAAQF,OAAV,EAAT;AACH,SAZL;AAaH;AACJ","file":"createBiologicalClock.js","sourcesContent":["import models from '../../../models';\n\nexport default function createBiologicalClock(req, res, next) {\n    if (req.body.type == 'SLEEP') {\n        models.patientBiologicalClock\n            .findOrCreate({\n                where: {\n                    type: req.body.type,\n                    patientId: req.body.patientId,\n                    date: req.body.date\n                }\n            }).spread((clock, created) => {\n                res.json({ status: created });\n            });\n    } else {\n        models.patientBiologicalClock\n            .findOrCreate({\n                where: {\n                    type: req.body.type,\n                    patientId: req.body.patientId,\n                    date: req.body.date,\n                    createdAt: req.body.date\n                }\n            }, {\n                forceTimestamps: true\n            }).spread((clock, created) => {\n                res.json({ status: created });\n            });\n    }\n}\n"]}