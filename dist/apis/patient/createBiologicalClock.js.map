{"version":3,"sources":["../../../src/apis/patient/createBiologicalClock.js"],"names":["createBiologicalClock","req","res","next","body","type","patientBiologicalClock","findOrCreate","patientId","date","spread","clock","created","json","status","createdAt"],"mappings":";;;;;kBAGwBA,qB;;AAHxB;;;;;;AAGe,SAASA,qBAAT,CAA+BC,GAA/B,EAAoCC,GAApC,EAAyCC,IAAzC,EAA+C;AAC1D,QAAIF,IAAIG,IAAJ,CAASC,IAAT,IAAiB,OAArB,EAA8B;AAC1B,yBAAOC,sBAAP,CACKC,YADL,CACkB;AACVF,kBAAMJ,IAAIG,IAAJ,CAASC,IADL;AAEVG,uBAAWP,IAAIG,IAAJ,CAASI,SAFV;AAGVC,kBAAMR,IAAIG,IAAJ,CAASK;AAHL,SADlB,EAKOC,MALP,CAKc,UAACC,KAAD,EAAQC,OAAR,EAAoB;AAC1BV,gBAAIW,IAAJ,CAAS,EAAEC,QAAQF,OAAV,EAAT;AACH,SAPL;AAQH,KATD,MASO;AACH,yBAAON,sBAAP,CACKC,YADL,CACkB;AACVF,kBAAMJ,IAAIG,IAAJ,CAASC,IADL;AAEVG,uBAAWP,IAAIG,IAAJ,CAASI,SAFV;AAGVC,kBAAMR,IAAIG,IAAJ,CAASK,IAHL;AAIVM,uBAAWd,IAAIG,IAAJ,CAASK;AAJV,SADlB,EAMOC,MANP,CAMc,UAACC,KAAD,EAAQC,OAAR,EAAoB;AAC1BV,gBAAIW,IAAJ,CAAS,EAAEC,QAAQF,OAAV,EAAT;AACH,SARL;AASH;AACJ","file":"createBiologicalClock.js","sourcesContent":["import models from '../../../models';\n\n\nexport default function createBiologicalClock(req, res, next) {\n    if (req.body.type == 'SLEEP') {\n        models.patientBiologicalClock\n            .findOrCreate({\n                type: req.body.type,\n                patientId: req.body.patientId,\n                date: req.body.date\n            }).spread((clock, created) => {\n                res.json({ status: created });\n            });\n    } else {\n        models.patientBiologicalClock\n            .findOrCreate({\n                type: req.body.type,\n                patientId: req.body.patientId,\n                date: req.body.date,\n                createdAt: req.body.date\n            }).spread((clock, created) => {\n                res.json({ status: created });\n            });\n    }\n}\n"]}