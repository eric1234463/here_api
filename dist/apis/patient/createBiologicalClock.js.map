{"version":3,"sources":["../../../src/apis/patient/createBiologicalClock.js"],"names":["createBiologicalClock","req","res","next","body","type","patientBiologicalClock","findOrCreate","where","patientId","date","spread","clock","created","json","status","defaults","createdAt","forceTimestamps"],"mappings":";;;;;kBAEwBA,qB;;AAFxB;;;;;;AAEe,SAASA,qBAAT,CAA+BC,GAA/B,EAAoCC,GAApC,EAAyCC,IAAzC,EAA+C;AAC1D,QAAIF,IAAIG,IAAJ,CAASC,IAAT,IAAiB,MAArB,EAA6B;AACzB,yBAAOC,sBAAP,CACKC,YADL,CACkB;AACVC,mBAAO;AACHH,sBAAMJ,IAAIG,IAAJ,CAASC,IADZ;AAEHI,2BAAWR,IAAIG,IAAJ,CAASK,SAFjB;AAGHC,sBAAMT,IAAIG,IAAJ,CAASM;AAHZ;AADG,SADlB,EAOOC,MAPP,CAOc,UAACC,KAAD,EAAQC,OAAR,EAAoB;AAC1BX,gBAAIY,IAAJ,CAAS,EAAEC,QAAQF,OAAV,EAAT;AACH,SATL;AAUH,KAXD,MAWO;AACH,yBAAOP,sBAAP,CACKC,YADL,CACkB;AACVC,mBAAO;AACHH,sBAAMJ,IAAIG,IAAJ,CAASC,IADZ;AAEHI,2BAAWR,IAAIG,IAAJ,CAASK,SAFjB;AAGHC,sBAAMT,IAAIG,IAAJ,CAASM;AAHZ,aADG;AAMVM,sBAAU;AACNC,2BAAWhB,IAAIG,IAAJ,CAASM;AADd;AANA,SADlB,EAUO;AACCQ,6BAAiB;AADlB,SAVP,EAYOP,MAZP,CAYc,UAACC,KAAD,EAAQC,OAAR,EAAoB;AAC1BX,gBAAIY,IAAJ,CAAS,EAAEC,QAAQF,OAAV,EAAT;AACH,SAdL;AAeH;AACJ","file":"createBiologicalClock.js","sourcesContent":["import models from '../../../models';\n\nexport default function createBiologicalClock(req, res, next) {\n    if (req.body.type == 'WAKE') {\n        models.patientBiologicalClock\n            .findOrCreate({\n                where: {\n                    type: req.body.type,\n                    patientId: req.body.patientId,\n                    date: req.body.date\n                }\n            }).spread((clock, created) => {\n                res.json({ status: created });\n            });\n    } else {\n        models.patientBiologicalClock\n            .findOrCreate({\n                where: {\n                    type: req.body.type,\n                    patientId: req.body.patientId,\n                    date: req.body.date,\n                },\n                defaults: {\n                    createdAt: req.body.date\n                }\n            }, {\n                forceTimestamps: true\n            }).spread((clock, created) => {\n                res.json({ status: created });\n            });\n    }\n}\n"]}