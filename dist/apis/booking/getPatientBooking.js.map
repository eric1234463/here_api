{"version":3,"sources":["../../../src/apis/booking/getPatientBooking.js"],"names":["req","res","next","Booking","findAll","where","patientId","query","id","status","Active","date","$gte","include","model","Doctor","District","Specialty","booking","json","getPatientBooking"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;;;;sFAEe,iBAAiCA,GAAjC,EAAsCC,GAAtC,EAA2CC,IAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACS,iBAAOC,OAAP,CAAeC,OAAf,CAAuB;AAC3CC,qBAAO;AACLC,2BAAWN,IAAIO,KAAJ,CAAUC,EADhB;AAELC,wBAAQ,oBAAOC,MAFV;AAGLC,sBAAM;AACJC,wBAAMZ,IAAIO,KAAJ,CAAUI;AADZ;AAHD,eADoC;AAQ3CE,uBAAS,CACP;AACEC,uBAAO,iBAAOC,MADhB;AAEEF,yBAAS,CAAC,EAAEC,OAAO,iBAAOE,QAAhB,EAAD,EAA6B,EAAEF,OAAO,iBAAOG,SAAhB,EAA7B;AAFX,eADO;AARkC,aAAvB,CADT;;AAAA;AACPC,mBADO;;AAgBbjB,gBAAIkB,IAAJ,CAASD,OAAT;;AAhBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeE,iB;;;;SAAAA,iB","file":"getPatientBooking.js","sourcesContent":["import models from \"../../../models\";\nimport { status } from '../../constants/bookingEnum';\n\nexport default async function getPatientBooking(req, res, next) {\n  const booking = await models.Booking.findAll({\n    where: {\n      patientId: req.query.id,\n      status: status.Active,\n      date: {\n        $gte: req.query.date\n      }\n    },\n    include: [\n      { \n        model: models.Doctor,\n        include: [{ model: models.District }, { model: models.Specialty }]\n      }\n    ]\n  });\n  res.json(booking);\n}\n"]}