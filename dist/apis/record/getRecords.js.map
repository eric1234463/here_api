{"version":3,"sources":["../../../src/apis/record/getRecords.js"],"names":["getRecords","req","res","next","Record","findAll","where","patientId","query","userId","include","model","Doctor","Patient","RecordFactor","Factor","RecordMedicine","Medicine","then","json","records"],"mappings":";;;;;kBAGwBA,U;;AAHxB;;;;;;AAGe,SAASA,UAAT,CAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoC;AAC/C,qBAAOC,MAAP,CACKC,OADL,CACa;AACLC,eAAO;AACHC,uBAAWN,IAAIO,KAAJ,CAAUC;AADlB,SADF;AAILC,iBAAS,CACL,EAAEC,OAAO,iBAAOC,MAAhB,EADK,EAEL,EAAED,OAAO,iBAAOE,OAAhB,EAFK,EAGL,EAAEF,OAAO,iBAAOG,YAAhB,EAA8BJ,SAAS,iBAAOK,MAA9C,EAHK,EAIL,EAAEJ,OAAO,iBAAOK,cAAhB,EAAgCN,SAAS,iBAAOO,QAAhD,EAJK;AAJJ,KADb,EAWOC,IAXP,CAWY,mBAAW;AACfhB,YAAIiB,IAAJ,CAASC,OAAT;AACH,KAbL;AAcH","file":"getRecords.js","sourcesContent":["import models from '../../../models';\n\n\nexport default function getRecords(req, res, next) {\n    models.Record\n        .findAll({\n            where: {\n                patientId: req.query.userId\n            },\n            include: [\n                { model: models.Doctor },\n                { model: models.Patient },\n                { model: models.RecordFactor, include: models.Factor },\n                { model: models.RecordMedicine, include: models.Medicine }\n            ]\n        }).then(records => {\n            res.json(records);\n        })\n}\n"]}