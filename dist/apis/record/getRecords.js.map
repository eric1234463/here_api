{"version":3,"sources":["../../../src/apis/record/getRecords.js"],"names":["getRecords","req","res","next","Record","findAll","where","patientId","query","userId","include","model","Doctor","District","Specialty","Patient","RecordFactor","Factor","RecordMedicine","Medicine","then","json","records"],"mappings":";;;;;kBAEwBA,U;;AAFxB;;;;;;AAEe,SAASA,UAAT,CAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoC;AACjD,mBAAOC,MAAP,CAAcC,OAAd,CAAsB;AACpBC,WAAO;AACLC,iBAAWN,IAAIO,KAAJ,CAAUC;AADhB,KADa;AAIpBC,aAAS,CACP;AACEC,aAAO,iBAAOC,MADhB;AAEEF,eAAS,CAAC,EAAEC,OAAO,iBAAOE,QAAhB,EAAD,EAA6B,EAAEF,OAAO,iBAAOG,SAAhB,EAA7B;AAFX,KADO,EAKP,EAAEH,OAAO,iBAAOI,OAAhB,EALO,EAMP,EAAEJ,OAAO,iBAAOK,YAAhB,EAA8BN,SAAS,iBAAOO,MAA9C,EANO,EAOP,EAAEN,OAAO,iBAAOO,cAAhB,EAAgCR,SAAS,iBAAOS,QAAhD,EAPO;AAJW,GAAtB,EAaGC,IAbH,CAaQ,mBAAW;AACjBlB,QAAImB,IAAJ,CAASC,OAAT;AACD,GAfD;AAgBD","file":"getRecords.js","sourcesContent":["import models from \"../../../models\";\n\nexport default function getRecords(req, res, next) {\n  models.Record.findAll({\n    where: {\n      patientId: req.query.userId\n    },\n    include: [\n      {\n        model: models.Doctor,\n        include: [{ model: models.District }, { model: models.Specialty }]\n      },\n      { model: models.Patient },\n      { model: models.RecordFactor, include: models.Factor },\n      { model: models.RecordMedicine, include: models.Medicine }\n    ]\n  }).then(records => {\n    res.json(records);\n  });\n}\n"]}