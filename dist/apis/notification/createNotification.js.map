{"version":3,"sources":["../../../src/apis/notification/createNotification.js"],"names":["createNotification","req","res","next","create","baseURL","timeout","headers","Authorization","post","notification","title","body","sound","click_action","to","then","console","log","Notification","json","catch","error"],"mappings":";;;;;kBAGwBA,kB;;AAHxB;;;;AACA;;;;;;AAEe,SAASA,kBAAT,CAA4BC,GAA5B,EAAiCC,GAAjC,EAAsCC,IAAtC,EAA4C;AACzD,kBACGC,MADH,CACU;AACNC,aAAS,4BADH;AAENC,aAAS,IAFH;AAGNC,aAAS;AACPC,qBAAe,6CADR;AAEP,sBAAgB;AAFT;AAHH,GADV,EASGC,IATH,CASQ,WATR,EASqB;AACjBC,kBAAc;AACZC,aAAOV,IAAIW,IAAJ,CAASD,KADJ;AAEZC,YAAMX,IAAIW,IAAJ,CAASA,IAFH;AAGZC,aAAO,SAHK;AAIZC,oBAAc;AAJF,KADG;AAOjBC,QAAI;AAPa,GATrB,EAkBGC,IAlBH,CAkBQ,kBAAU;AACdC,YAAQC,GAAR,CAAY,cAAZ;AACA,qBAAOC,YAAP,CAAoBf,MAApB,CAA2B;AACzBO,aAAOV,IAAIW,IAAJ,CAASD,KADS;AAEzBC,YAAMX,IAAIW,IAAJ,CAASA;AAFU,KAA3B,EAGGI,IAHH,CAGQ,wBAAgB;AACtBd,UAAIkB,IAAJ,CAASV,YAAT;AACD,KALD;AAMD,GA1BH,EA2BGW,KA3BH,CA2BS,iBAAS;AACdJ,YAAQC,GAAR,CAAYI,KAAZ;AACD,GA7BH;AA8BD","file":"createNotification.js","sourcesContent":["import models from \"../../../models\";\nimport axios from \"axios\";\n\nexport default function createNotification(req, res, next) {\n  axios\n    .create({\n      baseURL: \"https://fcm.googleapis.com\",\n      timeout: 1000,\n      headers: {\n        Authorization: \"key=AIzaSyAhoKi1iAoKNwwFszwXGSX3lCk3d0FAguA\",\n        \"Content-Type\": \"application/json\"\n      }\n    })\n    .post(\"/fcm/send\", {\n      notification: {\n        title: req.body.title,\n        body: req.body.body,\n        sound: \"default\",\n        click_action: \"FCM_PLUGIN_ACTIVITY\"\n      },\n      to: \"news\"\n    })\n    .then(result => {\n      console.log(\"success send\");\n      models.Notification.create({\n        title: req.body.title,\n        body: req.body.body\n      }).then(notification => {\n        res.json(notification);\n      });\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n"]}