{"version":3,"sources":["../../../src/apis/insurance/getUserAvgHealthStatus.js"],"names":["patientId","patientHealthStatus","findAll","where","order","userHealthStatus","userTotalHealthRank","reduce","acc","element","parseInt","dataValues","value","userAvgHealthRank","length","getUserAvgHealthStatus"],"mappings":";;;;;;;;;;;;;;AAAA;;;;;;;sFAEe,iBAAsCA,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACkB,iBAAOC,mBAAP,CAA2BC,OAA3B,CAAmC;AAChEC,qBAAO;AACLH,2BAAWA;AADN,eADyD;AAIhEI,qBAAO,CAAC,CAAC,WAAD,EAAc,MAAd,CAAD;AAJyD,aAAnC,CADlB;;AAAA;AACPC,4BADO;AAQPC,+BARO,GAQeD,iBAAiBE,MAAjB,CAAwB,UAACC,GAAD,EAAMC,OAAN,EAAkB;AACpED,qBAAOE,SAASD,QAAQE,UAAR,CAAmBC,KAA5B,CAAP;AACA,qBAAOJ,GAAP;AACD,aAH2B,EAGzB,CAHyB,CARf;AAaPK,6BAbO,GAaaP,sBAAsBD,iBAAiBS,MAbpD;AAAA,6CAeND,iBAfM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeE,sB;;;;SAAAA,sB","file":"getUserAvgHealthStatus.js","sourcesContent":["import models from \"../../../models\";\n\nexport default async function getUserAvgHealthStatus(patientId) {\n  const userHealthStatus = await models.patientHealthStatus.findAll({\n    where: {\n      patientId: patientId\n    },\n    order: [[\"createdAt\", \"DESC\"]]\n  });\n\n  const userTotalHealthRank = userHealthStatus.reduce((acc, element) => {\n    acc += parseInt(element.dataValues.value);\n    return acc;\n  }, 0);\n\n  const userAvgHealthRank = userTotalHealthRank / userHealthStatus.length;\n\n  return userAvgHealthRank;\n}\n"]}