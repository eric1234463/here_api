{"version":3,"sources":["../../../src/apis/insurance/searchInsurancePlans.js"],"names":["searchInsurancePlans","req","res","next","console","log","body","condtion","order","where","search","provider","$eq","surgery_cover","$gte","daliy_cover","InsurancePlan","findAll","then","json","insurancePlans"],"mappings":";;;;;kBAEwBA,oB;;AAFxB;;;;;;AAEe,SAASA,oBAAT,CAA8BC,GAA9B,EAAmCC,GAAnC,EAAwCC,IAAxC,EAA8C;AAC3DC,UAAQC,GAAR,CAAYJ,IAAIK,IAAhB;AACA,MAAIC,WAAW;AACbC,WAAO,CAAC,CAAC,IAAD,EAAO,KAAP,CAAD,CADM;AAEbC,WAAM;AAFO,GAAf;;AAKA,MAAI,CAACR,IAAIK,IAAJ,CAASI,MAAT,CAAgBC,QAArB,EAA+B;AAC7BJ,aAAS,OAAT,EAAkB,UAAlB,IAAgC;AAC9BK,WAAKX,IAAIK,IAAJ,CAASI,MAAT,CAAgBC;AADS,KAAhC;AAGD;;AAED,MAAI,CAACV,IAAIK,IAAJ,CAASI,MAAT,CAAgBG,aAArB,EAAoC;AAClCN,aAAS,OAAT,EAAkB,eAAlB,IAAqC;AACnCO,YAAMb,IAAIK,IAAJ,CAASO;AADoB,KAArC;AAGD;;AAED,MAAI,CAACZ,IAAIK,IAAJ,CAASI,MAAT,CAAgBK,WAArB,EAAkC;AAChCR,aAAS,OAAT,EAAkB,aAAlB,IAAmC;AACjCO,YAAMb,IAAIK,IAAJ,CAASI,MAAT,CAAgBK;AADW,KAAnC;AAGD;AACDX,UAAQC,GAAR,CAAYE,QAAZ;AACA,mBAAOS,aAAP,CAAqBC,OAArB,CAA6BV,QAA7B,EAAuCW,IAAvC,CAA4C,0BAAkB;AAC5DhB,QAAIiB,IAAJ,CAASC,cAAT;AACD,GAFD;AAGD","file":"searchInsurancePlans.js","sourcesContent":["import models from \"../../../models\";\n\nexport default function searchInsurancePlans(req, res, next) {\n  console.log(req.body);\n  let condtion = {\n    order: [[\"id\", \"ASC\"]],\n    where:{}\n  };\n\n  if (!req.body.search.provider) {\n    condtion['where']['provider'] = {\n      $eq: req.body.search.provider\n    };\n  }\n\n  if (!req.body.search.surgery_cover) {\n    condtion['where']['surgery_cover'] = {\n      $gte: req.body.surgery_cover\n    };\n  }\n\n  if (!req.body.search.daliy_cover) {\n    condtion['where']['daliy_cover'] = {\n      $gte: req.body.search.daliy_cover\n    };\n  }\n  console.log(condtion);\n  models.InsurancePlan.findAll(condtion).then(insurancePlans => {\n    res.json(insurancePlans);\n  });\n}\n"]}