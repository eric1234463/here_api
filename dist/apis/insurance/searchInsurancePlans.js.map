{"version":3,"sources":["../../../src/apis/insurance/searchInsurancePlans.js"],"names":["searchInsurancePlans","req","res","next","condtion","order","body","search","provider","where","$eq","surgery_cover","$gte","daliy_cover","console","log","InsurancePlan","findAll","then","json","insurancePlans"],"mappings":";;;;;kBAEwBA,oB;;AAFxB;;;;;;AAEe,SAASA,oBAAT,CAA8BC,GAA9B,EAAmCC,GAAnC,EAAwCC,IAAxC,EAA8C;AAC3D,MAAMC,WAAW;AACfC,WAAO;AADQ,GAAjB;;AAIA,MAAI,CAACJ,IAAIK,IAAJ,CAASC,MAAT,CAAgBC,QAArB,EAA+B;AAC7BJ,aAASK,KAAT,CAAeD,QAAf,GAA0B;AACxBE,WAAKT,IAAIK,IAAJ,CAASC,MAAT,CAAgBC;AADG,KAA1B;AAGD;;AAED,MAAI,CAACP,IAAIK,IAAJ,CAASC,MAAT,CAAgBI,aAArB,EAAoC;AAClCP,aAASK,KAAT,CAAeE,aAAf,GAA+B;AAC7BC,YAAMX,IAAIK,IAAJ,CAASK;AADc,KAA/B;AAGD;;AAED,MAAI,CAACV,IAAIK,IAAJ,CAASC,MAAT,CAAgBM,WAArB,EAAkC;AAChCT,aAASK,KAAT,CAAeI,WAAf,GAA6B;AAC3BD,YAAMX,IAAIK,IAAJ,CAASC,MAAT,CAAgBM;AADK,KAA7B;AAGD;AACDC,UAAQC,GAAR,CAAYX,QAAZ;AACA,mBAAOY,aAAP,CAAqBC,OAArB,CAA6Bb,QAA7B,EAAuCc,IAAvC,CAA4C,0BAAkB;AAC5DhB,QAAIiB,IAAJ,CAASC,cAAT;AACD,GAFD;AAGD","file":"searchInsurancePlans.js","sourcesContent":["import models from \"../../../models\";\n\nexport default function searchInsurancePlans(req, res, next) {\n  const condtion = {\n    order: \"id ASC\"\n  };\n\n  if (!req.body.search.provider) {\n    condtion.where.provider = {\n      $eq: req.body.search.provider\n    };\n  }\n\n  if (!req.body.search.surgery_cover) {\n    condtion.where.surgery_cover = {\n      $gte: req.body.surgery_cover\n    };\n  }\n\n  if (!req.body.search.daliy_cover) {\n    condtion.where.daliy_cover = {\n      $gte: req.body.search.daliy_cover\n    };\n  }\n  console.log(condtion);\n  models.InsurancePlan.findAll(condtion).then(insurancePlans => {\n    res.json(insurancePlans);\n  });\n}\n"]}