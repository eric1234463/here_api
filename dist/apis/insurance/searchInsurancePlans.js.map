{"version":3,"sources":["../../../src/apis/insurance/searchInsurancePlans.js"],"names":["searchInsurancePlans","req","res","next","console","log","condtion","order","body","search","provider","where","$eq","surgery_cover","$gte","daliy_cover","InsurancePlan","findAll","then","json","insurancePlans"],"mappings":";;;;;kBAEwBA,oB;;AAFxB;;;;;;AAEe,SAASA,oBAAT,CAA8BC,GAA9B,EAAmCC,GAAnC,EAAwCC,IAAxC,EAA8C;AAC3DC,UAAQC,GAAR,CAAYJ,GAAZ;AACA,MAAMK,WAAW;AACfC,WAAO,CAAC,CAAC,IAAD,EAAO,KAAP,CAAD;AADQ,GAAjB;;AAIA,MAAI,CAACN,IAAIO,IAAJ,CAASC,MAAT,CAAgBC,QAArB,EAA+B;AAC7BJ,aAASK,KAAT,CAAeD,QAAf,GAA0B;AACxBE,WAAKX,IAAIO,IAAJ,CAASC,MAAT,CAAgBC;AADG,KAA1B;AAGD;;AAED,MAAI,CAACT,IAAIO,IAAJ,CAASC,MAAT,CAAgBI,aAArB,EAAoC;AAClCP,aAASK,KAAT,CAAeE,aAAf,GAA+B;AAC7BC,YAAMb,IAAIO,IAAJ,CAASK;AADc,KAA/B;AAGD;;AAED,MAAI,CAACZ,IAAIO,IAAJ,CAASC,MAAT,CAAgBM,WAArB,EAAkC;AAChCT,aAASK,KAAT,CAAeI,WAAf,GAA6B;AAC3BD,YAAMb,IAAIO,IAAJ,CAASC,MAAT,CAAgBM;AADK,KAA7B;AAGD;AACDX,UAAQC,GAAR,CAAYC,QAAZ;AACA,mBAAOU,aAAP,CAAqBC,OAArB,CAA6BX,QAA7B,EAAuCY,IAAvC,CAA4C,0BAAkB;AAC5DhB,QAAIiB,IAAJ,CAASC,cAAT;AACD,GAFD;AAGD","file":"searchInsurancePlans.js","sourcesContent":["import models from \"../../../models\";\n\nexport default function searchInsurancePlans(req, res, next) {\n  console.log(req);\n  const condtion = {\n    order: [[\"id\", \"ASC\"]]\n  };\n\n  if (!req.body.search.provider) {\n    condtion.where.provider = {\n      $eq: req.body.search.provider\n    };\n  }\n\n  if (!req.body.search.surgery_cover) {\n    condtion.where.surgery_cover = {\n      $gte: req.body.surgery_cover\n    };\n  }\n\n  if (!req.body.search.daliy_cover) {\n    condtion.where.daliy_cover = {\n      $gte: req.body.search.daliy_cover\n    };\n  }\n  console.log(condtion);\n  models.InsurancePlan.findAll(condtion).then(insurancePlans => {\n    res.json(insurancePlans);\n  });\n}\n"]}