{"version":3,"sources":["../../../src/apis/insurance/searchInsurancePlans.js"],"names":["searchInsurancePlans","req","res","next","console","log","body","condtion","order","search","provider","where","$eq","surgery_cover","$gte","daliy_cover","InsurancePlan","findAll","then","json","insurancePlans"],"mappings":";;;;;kBAEwBA,oB;;AAFxB;;;;;;AAEe,SAASA,oBAAT,CAA8BC,GAA9B,EAAmCC,GAAnC,EAAwCC,IAAxC,EAA8C;AAC3DC,UAAQC,GAAR,CAAYJ,IAAIK,IAAhB;AACA,MAAIC,WAAW;AACbC,WAAO,CAAC,CAAC,IAAD,EAAO,KAAP,CAAD;AADM,GAAf;;AAIA,MAAI,CAACP,IAAIK,IAAJ,CAASG,MAAT,CAAgBC,QAArB,EAA+B;AAC7BH,aAASI,KAAT,CAAeD,QAAf,GAA0B;AACxBE,WAAKX,IAAIK,IAAJ,CAASG,MAAT,CAAgBC;AADG,KAA1B;AAGD;;AAED,MAAI,CAACT,IAAIK,IAAJ,CAASG,MAAT,CAAgBI,aAArB,EAAoC;AAClCN,aAASI,KAAT,CAAeE,aAAf,GAA+B;AAC7BC,YAAMb,IAAIK,IAAJ,CAASO;AADc,KAA/B;AAGD;;AAED,MAAI,CAACZ,IAAIK,IAAJ,CAASG,MAAT,CAAgBM,WAArB,EAAkC;AAChCR,aAASI,KAAT,CAAeI,WAAf,GAA6B;AAC3BD,YAAMb,IAAIK,IAAJ,CAASG,MAAT,CAAgBM;AADK,KAA7B;AAGD;AACDX,UAAQC,GAAR,CAAYE,QAAZ;AACA,mBAAOS,aAAP,CAAqBC,OAArB,CAA6BV,QAA7B,EAAuCW,IAAvC,CAA4C,0BAAkB;AAC5DhB,QAAIiB,IAAJ,CAASC,cAAT;AACD,GAFD;AAGD","file":"searchInsurancePlans.js","sourcesContent":["import models from \"../../../models\";\n\nexport default function searchInsurancePlans(req, res, next) {\n  console.log(req.body);\n  let condtion = {\n    order: [[\"id\", \"ASC\"]]\n  };\n\n  if (!req.body.search.provider) {\n    condtion.where.provider = {\n      $eq: req.body.search.provider\n    };\n  }\n\n  if (!req.body.search.surgery_cover) {\n    condtion.where.surgery_cover = {\n      $gte: req.body.surgery_cover\n    };\n  }\n\n  if (!req.body.search.daliy_cover) {\n    condtion.where.daliy_cover = {\n      $gte: req.body.search.daliy_cover\n    };\n  }\n  console.log(condtion);\n  models.InsurancePlan.findAll(condtion).then(insurancePlans => {\n    res.json(insurancePlans);\n  });\n}\n"]}