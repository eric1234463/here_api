{"version":3,"sources":["../../../src/apis/doctor/updateDoctor.js"],"names":["req","res","next","url","body","location","get","geocoding","google_lat","google_lng","data","results","length","geometry","lat","lng","Doctor","update","displayName","age","gender","about","telphone","where","id","params","then","json","user","updateDoctor"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;;;;;;sFAEe,iBAA4BA,GAA5B,EAAiCC,GAAjC,EAAsCC,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAETC,eAFS,kEAE0DH,IAAII,IAAJ,CAASC,QAFnE;AAAA;AAAA,mBAGW,gBAAMC,GAAN,CAAUH,GAAV,CAHX;;AAAA;AAGPI,qBAHO;AAITC,sBAJS,GAII,CAJJ;AAKTC,sBALS,GAKI,CALJ;;AAMb,gBAAIF,UAAUG,IAAV,CAAeC,OAAf,CAAuBC,MAAvB,GAAgC,CAApC,EAAuC;AACrCJ,2BAAaD,UAAUG,IAAV,CAAeC,OAAf,CAAuB,CAAvB,EAA0BE,QAA1B,CAAmCR,QAAnC,CAA4CS,GAAzD;AACAL,2BAAaF,UAAUG,IAAV,CAAeC,OAAf,CAAuB,CAAvB,EAA0BE,QAA1B,CAAmCR,QAAnC,CAA4CU,GAAzD;AACD;AACD,6BAAOC,MAAP,CAAcC,MAAd,CACE;AACEC,2BAAalB,IAAII,IAAJ,CAASc,WADxB;AAEEC,mBAAKnB,IAAII,IAAJ,CAASe,GAFhB;AAGEC,sBAAQpB,IAAII,IAAJ,CAASgB,MAHnB;AAIEf,wBAAUL,IAAII,IAAJ,CAASC,QAJrB;AAKEgB,qBAAOrB,IAAII,IAAJ,CAASiB,KALlB;AAMEC,wBAAUtB,IAAII,IAAJ,CAASkB,QANrB;AAOEd,0BAAYA,UAPd;AAQEC,0BAAYA;AARd,aADF,EAWE;AACEc,qBAAO;AACLC,oBAAIxB,IAAIyB,MAAJ,CAAWD;AADV;AADT,aAXF,EAgBEE,IAhBF,CAgBO,gBAAQ;AACbzB,kBAAI0B,IAAJ,CAASC,IAAT;AACD,aAlBD;;AAVa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeC,Y;;;;SAAAA,Y","file":"updateDoctor.js","sourcesContent":["import models from \"../../../models\";\nimport axios from 'axios';\n\nexport default async function updateDoctor(req, res, next) {\n\n  let url = `https://maps.googleapis.com/maps/api/geocode/json?address=${req.body.location}&key=AIzaSyDY9138TLI3CkoYw8Zz7YR5nOBE3qPlTtE`;\n  const geocoding = await axios.get(url);\n  let google_lat = 0;\n  let google_lng = 0;\n  if (geocoding.data.results.length > 0) {\n    google_lat = geocoding.data.results[0].geometry.location.lat;\n    google_lng = geocoding.data.results[0].geometry.location.lng;\n  }\n  models.Doctor.update(\n    {\n      displayName: req.body.displayName,\n      age: req.body.age,\n      gender: req.body.gender,\n      location: req.body.location,\n      about: req.body.about,\n      telphone: req.body.telphone,\n      google_lat: google_lat,\n      google_lng: google_lng\n    },\n    {\n      where: {\n        id: req.params.id\n      }\n    }\n  ).then(user => {\n    res.json(user);\n  });\n}\n"]}